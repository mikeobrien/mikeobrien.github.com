--
layout: post
title: aspnet_compiler.exe and .refresh files
categories: [NantContrib, .NET, Nant, ASP.NET]
tags: [NantContrib, .NET, Nant, ASP.NET]
--
<P>Evidently the aspnet_compiler.exe does not care about .refresh files (From my tests and what I read on the <A href="http://en.wikipedia.org/wiki/Internets" target=_blank>internets</A>). It would be nice if it did as it would reduce the steps needed to build a WSP (Web Site Project) on a build server. I ended up just manually copying the assemblies into the bin folder before the build as follows in this nant script:</P>
<P><FONT color=#0000ff size=2><</FONT><FONT color=#a31515 size=2>mkiisdir</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>dirpath</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>..\BabelFish.ServiceHost.Web</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>vdirname</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>BabelFish.ServiceHost.Web</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /></FONT></P><FONT color=#0000ff size=2></FONT><FONT color=#0000ff size=2>
<P><</FONT><FONT color=#a31515 size=2>copy</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>todir</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>..\BabelFish.ServiceHost.Web\bin</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>><BR>    <</FONT><FONT color=#a31515 size=2>fileset</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>basedir</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>..\BabelFish.Services\bin</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>><BR>        <</FONT><FONT color=#a31515 size=2>include</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>name</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>*.dll</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /><BR>    </</FONT><FONT color=#a31515 size=2>fileset</FONT><FONT color=#0000ff size=2>><BR></</FONT><FONT color=#a31515 size=2>copy</FONT><FONT color=#0000ff size=2>></FONT></P><FONT color=#0000ff size=2>
<P><</FONT><FONT color=#a31515 size=2>exec</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>program</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>C:\WINDOWS\Microsoft.NET\Framework\${framework.version}\aspnet_compiler.exe</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>useruntimeengine</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>true</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>><BR>    <</FONT><FONT color=#a31515 size=2>arg</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>-p</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /><BR>    <</FONT><FONT color=#a31515 size=2>arg</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>..\BabelFish.ServiceHost.Web</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /><BR>    <</FONT><FONT color=#a31515 size=2>arg</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>-v</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /><BR>    <</FONT><FONT color=#a31515 size=2>arg</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>value</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>BabelFish.ServiceHost.Web</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /><BR></</FONT><FONT color=#a31515 size=2>exec</FONT><FONT color=#0000ff size=2>></FONT></P>
<P><FONT color=#0000ff size=2><</FONT><FONT color=#a31515 size=2>deliisdir</FONT><FONT color=#0000ff size=2> </FONT><FONT color=#ff0000 size=2>vdirname</FONT><FONT color=#0000ff size=2>=</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2>BabelFish.ServiceHost.Web</FONT><FONT size=2>"</FONT><FONT color=#0000ff size=2> /><BR></P></FONT>