---
layout: post
title: NAnt xmlpoke Task Returns &quot;No matching nodes were found with XPath expression '...'.&quot;
tags: [XML/XSL, Nant]
redirect_from:
  - /blog/2007/12/nant-xmlpoke-task-returns-matching.html
---
<p>...and your 100% sure your xpath is correct. It's probably that there is a namespace defined. All you need to do is define the namespace under the xmlpoke element and prefix your element names with the namespace prefix. Check it:</p> <p><strong>web.config:</strong></p> <p><font face="Courier New"><configuration <strong><font color="#800000">xmlns="</font></strong></font><a href="http://schemas.microsoft.com/.NetConfiguration/v2.0"><font face="Courier New" color="#800000"><strong>http://schemas.microsoft.com/.NetConfiguration/v2.0</strong></font></a><font face="Courier New"><strong><font color="#800000">"</font></strong>><br>&#160; <appSettings><br>&#160;&#160;&#160; <add key="SomeSetting" value="" /><br>&#160; </appSettings><br></configuration></font></p> <p><strong>NAnt:</strong></p> <p><font face="Courier New"><project name="YadaYadaYada" default="default"><br>&#160;&#160;&#160; <target name="default"><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <xmlpoke<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; file="D:\Temp\web.config"<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; xpath="/<strong><font color="#800000">ns:</font></strong>configuration/<font color="#800000">ns:</font>appSettings/<font color="#800000"><strong>ns:</strong></font>add[@key='SomeSetting']/@value"<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value="SomeValue"><br><strong><font color="#800000">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <namespaces><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <namespace prefix="ns" uri="</font></strong></font><a href="http://schemas.microsoft.com/.NetConfiguration/v2.0"><font face="Courier New" color="#800000"><strong>http://schemas.microsoft.com/.NetConfiguration/v2.0</strong></font></a><font face="Courier New"><strong><font color="#800000">" /><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </namespaces></font></strong><br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </xmlpoke><br>&#160;&#160; </target><br></project></font></p>