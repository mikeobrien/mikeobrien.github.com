--
layout: post
title: NAnt xmlpoke Task Returns &quot;No matching nodes were found with XPath expression '...'.&quot;
categories: [XML/XSL, Nant]
tags: [XML/XSL, Nant]
--
<p>...and your 100% sure your xpath is correct. It's probably that there is a namespace defined. All you need to do is define the namespace under the xmlpoke element and prefix your element names with the namespace prefix. Check it:</p> <p><strong>web.config:</strong></p> <p><font face="Courier New"><configuration <strong><font color="#800000">xmlns="</font></strong></font><a href="http://schemas.microsoft.com/.NetConfiguration/v2.0"><font face="Courier New" color="#800000"><strong>http://schemas.microsoft.com/.NetConfiguration/v2.0</strong></font></a><font face="Courier New"><strong><font color="#800000">"</font></strong>><br>  <appSettings><br>    <add key="SomeSetting" value="" /><br>  </appSettings><br></configuration></font></p> <p><strong>NAnt:</strong></p> <p><font face="Courier New"><project name="YadaYadaYada" default="default"><br>    <target name="default"><br>        <xmlpoke<br>             file="D:\Temp\web.config"<br>             xpath="/<strong><font color="#800000">ns:</font></strong>configuration/<font color="#800000">ns:</font>appSettings/<font color="#800000"><strong>ns:</strong></font>add[@key='SomeSetting']/@value"<br>             value="SomeValue"><br><strong><font color="#800000">                  <namespaces><br>                      <namespace prefix="ns" uri="</font></strong></font><a href="http://schemas.microsoft.com/.NetConfiguration/v2.0"><font face="Courier New" color="#800000"><strong>http://schemas.microsoft.com/.NetConfiguration/v2.0</strong></font></a><font face="Courier New"><strong><font color="#800000">" /><br>                  </namespaces></font></strong><br>         </xmlpoke><br>   </target><br></project></font></p>